% !TEX program = lualatex
\documentclass[aspectratio=169,professionalfonts]{beamer}
\input{../preamble.tex}

\title[ClústerLab • Día 2]{Redes IP y claves SSH}
\subtitle{Configurar IP estática y generar claves}
\author{Equipo docente ClústerLab}
\date{6 de agosto de 2025}

\begin{document}

%------------------------------ portada ----------------------------
\begin{frame}[plain]
  \titlepage
\end{frame}

%------------------------------ objetivos --------------------------
\begin{frame}[fragile]{Objetivos de la sesión}
  \begin{itemize}
    \item Repasar conceptos básicos de redes IP y asignar una dirección estática.
    \item Descubrir vecinos en la subred usando \texttt{nmap}.
    \item Generar y copiar una clave SSH para acceso sin contraseña.
    \item Preparar la Pi para trabajo remoto desde la siguiente sesión.
  \end{itemize}
\end{frame}

%------------------------------ agenda -----------------------------
\begin{frame}[fragile]{Agenda (09:00 – 10:30)}
  \begin{enumerate}
    \item Revisión flash de SD/SSH (5 preguntas tipo Kahoot).
    \item Redes IP y configuración estática via \texttt{dhcpcd.conf}.
    \item Escaneo de vecinos con \texttt{nmap}.
    \item Generar par de claves RSA y copiar a la Raspberry Pi.
  \end{enumerate}
\end{frame}

%------------------------------ revisión flash ---------------------
\begin{frame}[fragile]{Revisión flash}
  \begin{itemize}
    \item Cinco preguntas rápidas para reforzar conceptos del Día 1.
    \item Utiliza tu teléfono o laptop para responder en tiempo real.
    \item Comparte dudas antes de avanzar a redes.
  \end{itemize}
\end{frame}

%------------------------------ IP estática ------------------------
\begin{frame}[fragile]{Configurar IP estática}
  Edita \texttt{/etc/dhcpcd.conf} para definir una IP fija:
  \begin{minted}{bash}
sudo nano /etc/dhcpcd.conf
interface eth0
static ip_address=10.0.0.21/24
static routers=10.0.0.1
static domain_name_servers=8.8.8.8 8.8.4.4
  \end{minted}
  Después de guardar, reinicia el servicio:
  \begin{minted}{bash}
$ sudo systemctl restart dhcpcd
  \end{minted}
  \begin{infobox}
  Elige una dirección única dentro de la subred del aula (10.0.0.X). Consulta con tu grupo para evitar conflictos.
  \end{infobox}
\end{frame}

%------------------------------ nmap scan --------------------------
\begin{frame}[fragile]{Descubrir vecinos con \texttt{nmap}}
  Instala la herramienta y explora quién está conectado:
  \begin{minted}{bash}
$ sudo apt install -y nmap
$ nmap -sn 10.0.0.0/24          # escaneo rápido de hosts
$ nmap -p 22 --open 10.0.0.0/24 # encontrar servicios SSH activos
  \end{minted}
  \begin{itemize}
    \item La opción \texttt{-sn} (ping scan) lista IP y latencias.
    \item Usa \texttt{-p} para verificar puertos específicos como SSH.
  \end{itemize}
\end{frame}

%------------------------------ claves SSH -------------------------
\begin{frame}[fragile]{Generar y copiar una clave SSH}
  \begin{minted}{bash}
# Genera un par RSA de 4096 bits con comentario
$ ssh-keygen -t rsa -b 4096 -C "tu@correo"
# Copia la clave pública a la Raspberry Pi
$ ssh-copy-id pi@10.0.0.21
  \end{minted}
  \begin{infobox}
  La autenticación sin contraseña simplifica el uso de \texttt{scp} y \texttt{rsync}. Protege tu clave privada (\texttt{~/.ssh/id\_rsa}) con permisos 600.
  \end{infobox}
\end{frame}

%------------------------------ actividad --------------------------
\begin{frame}[fragile]{Actividad práctica}
  \begin{enumerate}
    \item Asigna una IP estática a tu Pi y reinicia la interfaz.
    \item Escanea la red para registrar IP y hostname de tus compañeros.
    \item Genera tu par de claves y copia la pública a la Pi.
    \item Comparte la lista de IP/hostnames en el canal del curso.
  \end{enumerate}
\end{frame}

%------------------------------ resumen ----------------------------
\begin{frame}[fragile]{Resumen}
  \begin{itemize}
    \item Configuraste una IP estática con \texttt{dhcpcd.conf} y reiniciaste el servicio.
    \item Descubriste dispositivos en tu subred usando \texttt{nmap}.
    \item Generaste una clave SSH segura y habilitaste el acceso sin contraseña.
  \end{itemize}
  \vspace{0.5em}
  Listo para comenzar a trabajar de manera remota a partir del Día 3.
\end{frame}

\end{document}